# ğŸ“š KT ê±·ë‹¤ê°€ì„œì¬ - AI ê¸°ë°˜ ìë™ ì¶œê°„ ë° êµ¬ë… í”Œë«í¼

> í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê¸°ë°˜ ì „ìì±… ìë™ ì¶œê°„ ë° êµ¬ë… í”Œë«í¼  
> Spring Boot + React + Azure + Kafka ê¸°ë°˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í”„ë¡œì íŠ¸

---

## ğŸ› ï¸ í”„ë¡œì íŠ¸ ê°œìš”

- ì‘ê°€ê°€ ê¸€ì„ ì‘ì„±í•˜ë©´ AIê°€ ìë™ìœ¼ë¡œ í‘œì§€ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  ì „ìì±…ìœ¼ë¡œ ì¶œê°„
- êµ¬ë…ìëŠ” ì›”ì •ì•¡ìœ¼ë¡œ ì±…ì„ ì—´ëŒí•˜ê³ , KT ê³ ê°ì€ í¬ì¸íŠ¸ í˜œíƒì„ ë°›ì„ ìˆ˜ ìˆìŒ
- 3íšŒ ì´ìƒ ì—´ëŒëœ ë„ì„œëŠ” 'ë² ìŠ¤íŠ¸ì…€ëŸ¬'ë¡œ ë¶„ë¥˜ë˜ì–´ ì¶”ê°€ ë…¸ì¶œ
- ì‹¤ìŠµ ëª©í‘œ: í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•± ê°œë°œ ë° MSA ì•„í‚¤í…ì²˜ ê²½í—˜

---

## ğŸ“† ê°œë°œ ê¸°ê°„

- **2025.06.25 (ìˆ˜) ~ 2025.07.04 (ê¸ˆ)** / ì´ 8ì¼

---

## ğŸ‘¥ íŒ€ì› (AI_04ë°˜_11ì¡°)

| ì´ë¦„   | ì—­í•              |ë‹´ë‹¹ íŒŒíŠ¸
|--------|------------------|------------------|
| ì´í—Œì¤€ | ì¡°ì¥              | ì „ì²´ ê´€ë¦¬ ë° PM |
| ê¹€ì‹œí›ˆ | ë°œí‘œì | AI ì¶œê°„ ìë™í™” ë‹´ë‹¹ |
| ì•ˆë„í˜• | PPT | êµ¬ë…ì ê´€ë¦¬ |
| ë°•ìˆ˜ì—° | PPT | ì„œì¬ í”Œë«í¼ |
| ì˜¤í˜„ì¢… | ê²€í†  | ì§‘í•„ ê´€ë¦¬  |
| ì–‘ì„±í˜„ | ê²€í†  | í¬ì¸íŠ¸ ê´€ë¦¬ |
| ê¹€ë¯¼ì„œ | ê²€í†  | ì‘ê°€ ê´€ë¦¬  |
| ë¥˜ê·¼ìš° | ì„œê¸°              | ì „ì²´ ê´€ë¦¬ ë° ì—°ê²° ì§„í–‰ |

---

## ğŸ—‚ï¸ ì£¼ìš” ì¼ì • ë° ì‘ì—…

- **1ì¼ì°¨ (06.25)**: OT, ë„ë©”ì¸ ì´í•´, ì—­í•  ë¶„ë‹´, User Story, Event Storming
- **2ì¼ì°¨ (06.26)**: ì „ëµ/ì „ìˆ  ì„¤ê³„, í—¥ì‚¬ê³ ë‚  ë‹¤ì´ì–´ê·¸ë¨
- **3ì¼ì°¨ (06.27)**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬í˜„ ì‹œì‘ (Event ê¸°ë°˜)
- **4ì¼ì°¨ (06.30)**: Kafka ë©”ì‹œì§•, CQRS, í…ŒìŠ¤íŠ¸ ì‘ì„±
- **5ì¼ì°¨ (07.01)**: í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„, Docker ì´ë¯¸ì§€ ìƒì„± ë° Push
- **6ì¼ì°¨ (07.02)**: Azure ë°°í¬, ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜(HPA, ë¬´ì •ì§€ ë°°í¬)
- **7ì¼ì°¨ (07.03)**: ì„œë¹„ìŠ¤ ë©”ì‹œ ì ìš©, ëª¨ë‹ˆí„°ë§ & ë¡œê¹…
- **8ì¼ì°¨ (07.04)**: ë°°í¬ íŒŒì´í”„ë¼ì¸ ì„¤ê³„, Wrap-up, ë°œí‘œ

---
# ì†ŒìŠ¤ ì½”ë“œ ì¶”ê°€ ì„¤ëª…

1. AI ìš”ì•½ ìƒì„± (ContentAnalyzer)

íŠ¸ë¦¬ê±°: BookRegisted ì´ë²¤íŠ¸ ìˆ˜ì‹ 
ì²˜ë¦¬: GPTë¥¼ í™œìš©í•œ ì½˜í…ì¸  ìš”ì•½ + ì¥ë¥´ ë¶„ë¥˜
ë°œí–‰: AiSummarized ì´ë²¤íŠ¸
í•µì‹¬ ë¡œì§: ì¤‘ë³µ ì²˜ë¦¬ ë°©ì§€, 2ë‹¨ê³„ AI ì²˜ë¦¬ (ìš”ì•½ â†’ ë¶„ë¥˜)

java// AI ìš”ì•½ ìƒì„± - 2ë‹¨ê³„ ì²˜ë¦¬
String initialSummary = gptService.generateSummary(
    bookRegisted.getContext(), 500, "KO", "ì¼ë°˜ìš”ì•½"
);
String classifiedGenre = gptService.classifyGenre(
    bookRegisted.getTitle(), initialSummary
);

// ì´ë²¤íŠ¸ ë°œí–‰
AiSummarized aiSummarized = new AiSummarized(contentAnalyzer);
aiSummarized.publishAfterCommit();
2. AI í‘œì§€ ìƒì„± (CoverDesign)

íŠ¸ë¦¬ê±°: REST API ìš”ì²­ ë˜ëŠ” AiSummarized ì´ë²¤íŠ¸
ì²˜ë¦¬: DALL-Eë¥¼ í™œìš©í•œ í‘œì§€ ì´ë¯¸ì§€ ìƒì„±
ë°œí–‰: CoverCreated ì´ë²¤íŠ¸
í•µì‹¬ ë¡œì§: ìš”ì•½ ê²°ê³¼ í™œìš©ìœ¼ë¡œ ê³ í’ˆì§ˆ í‘œì§€ ìƒì„±

java// AI í‘œì§€ ìƒì„±
DalleService dalleService = new DalleService();
String imageUrl = dalleService.generateCoverImage(title, context);

// ìš”ì•½ ê²°ê³¼ í™œìš©í•œ ê³ í’ˆì§ˆ í‘œì§€ ìƒì„±
String contextForImage = analyzer.getSummary() != null ? 
    analyzer.getSummary() : analyzer.getContext();

// ì´ë²¤íŠ¸ ë°œí–‰
CoverCreated coverCreated = new CoverCreated(coverDesign);
coverCreated.publishAfterCommit();

<br><br>

# ì‹¤ìŠµ ë°©ë²•

## Model
www.msaez.io/#/59328372/storming/93e55621aef16e5cfc7076f172bcdb3as

## Before Running Services
### Make sure there is a Kafka server running
```
cd kafka
docker-compose up
```
- Check the Kafka messages:
```
cd infra
docker-compose exec -it kafka /bin/bash
cd /bin
./kafka-console-consumer --bootstrap-server localhost:9092 --topic
```

## Run the backend micro-services
See the README.md files inside the each microservices directory:

- authormanage
- writemanage
- ai
- point
- libraryplatform
- subscribemanage
- outside


## Run API Gateway (Spring Gateway)
```
cd gateway
mvn spring-boot:run
```

## Test by API
- authormanage
```
 http :8088/authors authorId="authorId"name="name"loginId="loginId"password="password"isApproved="isApproved"portfolioUrl="portfolioUrl"
```
- writemanage
```
 http :8088/writings bookId="bookId"title="title"context="context"authorId="authorId"registration="registration"
```
- ai
```
 http :8088/coverDesigns id="id"updatedAt="updatedAt"title="title"imageUrl="imageUrl"generatedBy="generatedBy"createdAt="createdAt"bookId="bookId"
 http :8088/contentAnalyzers id="id"bookId="bookId"language="Language"maxLength="maxLength"classificationType="classificationType"requestedBy="requestedBy"
```
- point
```
 http :8088/points pointId="pointId"userId="userId"pointBalance="pointBalance"standardSignupPoint="standardSignupPoint"ktSignupPoint="ktSignupPoint"amount="amount"usedAt="usedAt"
```
- libraryplatform
```
 http :8088/libraryInfos bookId="bookId"bookTitle="bookTitle"bestseller="bestseller"author="author"selectCount="selectCount"publishDate="publishDate"summary="summary"classficationTpe="classficationTpe"bookimage="bookimage"
```
- subscribemanage
```
 http :8088/subscribers id="id"name="name"isMonthlySubscribed="isMonthlySubscribed"isKt="isKt"
 http :8088/subscribedBooks subscribedBookId="subscribedBookId"status="status"bookId="bookId"
```
- outside
```
```


## Run the frontend
```
cd frontend
npm i
npm run serve
```

## Test by UI
Open a browser to localhost:8088

## Required Utilities

- httpie (alternative for curl / POSTMAN) and network utils
```
sudo apt-get update
sudo apt-get install net-tools
sudo apt install iputils-ping
pip install httpie
```

- kubernetes utilities (kubectl)
```
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
```

- aws cli (aws)
```
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
unzip awscliv2.zip
sudo ./aws/install
```

- eksctl 
```
curl --silent --location "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
sudo mv /tmp/eksctl /usr/local/bin
```
